# 7장: 서비스

> 서비스는 도메인에 일을 위임하는 공간

- 서비스의 역할
    - 도메인 객체 불러오기
    - 도메인 객체나 도메인 서비스에 일을 위임
    - 도메인 객체의 변경 사항을 저장
- 컨트롤러: 제어부
- 리포지터리: 저장소
- 컴포넌트: 구성 요소

<br>

- 서비스: ..? → 도메인 객체가 처리하기 애매한 ‘연산’자체를 표현하기 위한 컴포넌트
- 서비스 클래스는 곧 매니저 클래스
- 로직 자체가 ‘연산’이여서 어떠한 객체도 갖고 있기 어려운 경우 만들어지는 클래스
- 분류
    - 도메인 서비스: 도메인 개발에 필요하지만 객체로 표현하기 애매한 로직을 처리하는 서비스
    - 애플리케이션 서비스: 애플리케이션 개발에 필요하지만 객체로 표현하기 애매한 로직을 처리하는 서비스
- 000Manager클래스는 알고리즘 덩어리가 될 확률이 높음
    - 이름부터 능동적이지 못하고 연산 로직만 갖고 있을것처럼 느껴짐

<br>

- 객체지향으로 보는 서비스
    - 서비스는 가능한 적게 만들고 얇게 유지
    - 서비스보다 풍부한 도메인 모델을 만들어야 함
- 서비스를 작은 기계로 보는 관점
    - **불변성**, 서비스에 기대하는 주요 특징
        - 특정 연산 로직의 집합, 같은 응답에 대해 같은 응답
        - 불변하고 예측할 수 있는 컴포넌트가 되어야함
        - 따라서 서비스는 생성자 주입하라
            - 필드와 수정자 주입은 클래스를 불변으로 만들지 못함