## 6장: 안티 패턴

- 6.1 스마트UI
    - 백엔드 개발자에게 스마트 UI는 ‘컨트롤러’로 볼 수 있음
    - 컨트롤러에 지나치게 많은 로직을 넣지 마라
        - 단순히 기능 동작만하는 코드가 됨
        - 확장성, 유지보수성이 떨어짐
    
    컨트롤러란?
    
    - API호출 방식 정의
    - 어떤 비즈니스 로직을 실행할지 결정
    - API호출 결과를 어떤 포맷으로 응답할지 정의

- 6.2 양방향 레이어드 아키텍처
    - 레이어드 아키텍처의 기초 제약: 레이어 간 의존 방향은 단방향을 유지해야 함
    - 레이어 양방향 참조 해결법
        - 레이어별 모델 구성
    - 유사한 데이터를 여러개 만드는걸 두려워하지 말라
        - 데이터 모델을 어정쩡하게 공유하는 것 보다 역할과 책임에 따라 확실하게 모델을 구분하는것이 좋음

- 6.3 공동 모듈 구성
    - 공통으로 참조하는 코드를 별도의 모듈로 분리
    - 모든 레이어가 공통으로 단방향으로 참조하는 공통 ‘모듈’ 만들기
    - 완화된 레이어드 아키텍처 : 상위 레이어에 모든 하위 레이어에 접근할 수 있는 권한을 주는 구조
        - 이때 2개 이상의 레이어를 건너뛰어 통신X
        - 레이어간 통신은 인접한 레이어끼리 이뤄져야함

- 6.4 트랜잭션 스크립트
    - 비즈니스 레이어의 서비스 컴포넌트에서 발생
    - 서비스 컴포넌트의 구현이 ‘트랜잭션이 걸려있는 스크립트’를 실행하는 것 처럼 보일때를 말함
    - 비즈니스 로직이 처리되는 주 영역은 도메인 모델에 위치 (객체들이 가지고 있어야함)
        - !! 객체지향과 관련된 내용은 도메인 수준에서 적용 !!
    - 서비스는 도메인에 일을 위임하는 공간