# 15장 : 테스트 가능성

- 테스트 목적
    - 회귀 버그 방지
    - 좋은 설계를 얻기 위한 수단

`테스트 가능성`

> 테스트하기 쉬운 코드가 좋은 코드

<br>

### 15.1 : 테스트를 어렵게 만드는 요소

`테스트 가능성`

- 테스트하기 얼마나 쉬운가를 뜻함
- 테스트 쉬운 코드
    - 입력을 쉽게 변경할 수 있고, 출력을 쉽게 검증 할 수 있을 경우
- 어려운 코드
    - 숨겨진 입력
        - 개념
            - 메서드 실행 시 필요하나 외부에서는 알 수없는 감춰진 입력
                - 숨겨진 입력을 외부로 드러내자 ⇒ 근데 문제 다 해결 못함
        - 해결법
            - 의존성 주입과 의존성 역전 동시 사용
                - 선택적으로 컴포넌트 사용 가능 (인터페이스와 책임에 집중하기 때문)
    - 숨겨진 출력
        - 개념
            - 메서드 호출 결과가 반환값이 아닌 경우
                - 즉, 반환값 외 존재하는 모든 부수적인 출력
        - 해결법
            - 반환값을 위한 DTO
            - 반환값으로 이벤트 반환

<br>


### 15.3: 테스트가 보내는 신호

- 테스트 입출력 확인 불가
    - 확인 가능 구조로 변경
- private 메서드 테스트 힘듦
    - private메서드 테스트 필요x
        - 책임을 잘못할당했을 경우
    - 인터페이스 테스트만으로 충분
- 간단한 메서드 테스트  시 필요없는 객체 주입이 많이 필요
    - 서비스 컴포넌트를 더 작은 단위로 세분화하기 
- 테스트를 작성하며 코드 작성자 입장이 아닌, 코드 사용자 입장에서 바라볼 수 있음
    - 요구사항 위주로 바라봄