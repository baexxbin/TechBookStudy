# 3. 행동

> 객체는 데이터로서 존재하는 것이 아닌 `행동`하는 것이 중요하다.

객체가 행동하게 만드는 방법은 TDA 원칙을 적용하는 것이다. 하지만 TDA 원칙은 속성을 이미 갖고 있는 수동적인 객체를 능동적인 객체로 바꾸는 방법이다. 설계를 시작하는 단계에서는 정의된 속성이 없으면 어떻게 구현해야 할까?

<br>

### 자동차 클래스

`자동차 클래스를 만들어주세요`

1. 데이터 위주의 사고 방식
   자동차에 필요한 부품과 구현에 필요할 것으로 예상되는 속성들을 정의

2. 행동 위주의 사고 방식
   자동차가 어떤 행동을 해야 하는지를 정의

객체지향 관점에서 객체는 서로 협력해야 하며, 협력을 하려면 상대방에게 행동을 요구할 수 있어야 한다. 객체를 구분 짓는 요인은 데이터가 아닌 행동이다. 데이터 보다는 행동에 집중해야 하며, 행동이 객체를 결정한다.

행동을 먼저 고민하면 `자동차` 클래스가 아닌 `탈 것`이라는 역할이 자연스럽게 나온다.

<br>

> 객체지향은 행동을 강조하며, 행동이 같다면 같은 클래스로 부른다. 행동이 곧 역할을 정의하고, 역할이 곧 객체를 정의한다.

<br>
<br>

## 행동과 구현

행동을 고민하면서 구현이나 알고리즘을 고민해서는 안된다. 행동을 고민하는 순간에 이 클래스에 어떤 동작을 시킬 수 있을 것인지만 고민하는 것이 좋다. 오롯이 어떤 메시지를 처리할지만 고민하는 것이다.

구현에 구애받지 않고 행동만 고민할 때 사용할 수 있는 것이 `인터페이스`이다. 인터페이스에는 오롯이 어떤 행동을 어떻게 시킬 수 있는지만 선언한다.

<br>

### 인터페이스와 행동은 다르다

인터페이스는 외부에서 어떤 객체에게 행동을 시키고자 할 때 메시지를 보낼 수 있는 창구이다. 어떤 행동을 지시하는 방법의 집합 정로도 표현할 수 있다.

ex. API(Application Programming Interface)는 애플리케이션을 조작하고 싶을 때 어떻게 메시지를 보내면 되는지 알려주는 것이다.

객체들끼지 서로 협력하려면 행동을 지시해야 하고, 인터페이스는 이 협력을 위한 창구이다. 협력을 위해 객체들은 인터페이스를 통해 메시지를 주고 받는다.

- 자바 인터페이스에는 private 선언이 불가능하다.
- 인터페이스는 외부 세계에 `나`를 다루는 방법을 알려주는 것이기 때문에 `나만 아는 사용법`이 존재하는 것은 부자연스럽다.
- 따라서 인터페이스에 private 메서드가 존재한다는 것은 이상하며, 별로의 지시자가 없어도 public으로 동작한다.

<br>

## 행동과 역할

`자동차 클래스를 만들어 줄 수 있나요?`라는 요청에 데이터 위주의 사고를 할 수 밖에 없는 것은 자동차가 역할보다는 구현에 가까운 용어이기 때문이다.

`탈 것 클래스를 만들어 줄 수 있나요?` 라는 요청에서는 어떤 행동을 가져야하는지 부터 상상할 수 있다.

자동차는 실체이고 탈것은 역할이다. 우리는 실체에 집중할 때 데이터 위주의 사고를 하고, 역할에 집중할 때 행동 위주의 사고를 한다. 실체는 곧 구현이다. 역할에 집중하면 훨씬 더 유연한 설계를 얻을 수 있다. 역할과 구현은 반드시 구분해야 한다.

<br>

### 메서드

> 메서드(method)와 함수(function)에는 어떤 차이점이 있을까?

어떤 객체나 시스템을 다루는 외부 세계는 협력 대상과 소통하기 위해 메시지를 이용한다. 객체는 협력 객체에 메시지를 건네고, 협력 객체는 메시지를 수신해서 행동을 하는 것이다. 어떤 객체가 협력 객체에 요청을 보내면 특정 메서드나 함수를 실행한다고 생각하지만, 실제로 인터페이스를 이용한 통신에서는 메시지를 보내면 어떤 메서드가 실행될지 모른다.

함수의 각 입력값은 정확히 하나의 출력값으로 대응된다. 따라서 같은 입력에 대해 항상 같은 출력을 한다. 따라서 함수를 실행하면서 어떤 함수가 실행되지 모른다는 말은 부적절하다.

<br>

객체지향에서는 특정한 구현에 의존하는 상황을 피하고자 하며, 협력 객체에 어떤 일을 요청할 때 `함수를 실행한다`가 아닌 `메시지를 전달한다`고 표현한다.

- 객체지향에서 객체들은 메시지를 통해 소통한다. 즉 객체는 협력 객체에 메시지만 보낼 뿐이다.
- 실제로 어떤 방법(method)으로 일을 어떻게 처리할 지는 객체가 정한다. 따라서 객체가 수행하는 함수를 메서드라 부른다.

> 메서드란 어떤 메시지를 처리해 달라는 요청을 받았을 때, 이를 어떻게 처리하는지 방법을 서술하는 것

<br>

### 객체지향에서 중요한 것은 책임을 나누고 메시지를 통해 협력 관계를 구축하는 것이다.
